{"ast":null,"code":"var __jsx = React.createElement;\nimport { Button, Menu } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { off, on } from \"../utils/events\";\n\nfunction Sidebar(_ref) {\n  var jobs = _ref.jobs,\n      job = _ref.job,\n      onSelect = _ref.onSelect,\n      onCreate = _ref.onCreate;\n\n  var _useState = useState([]),\n      selected = _useState[0],\n      setSelected = _useState[1];\n\n  var select = function select(_ref2) {\n    var key = _ref2.key;\n    setSelected([key]);\n    var job = jobs.find(function (j) {\n      return j.key === key;\n    });\n    onSelect(job);\n  };\n\n  var reset = function reset() {\n    setSelected([]);\n  };\n\n  var updated = function updated(_ref3) {\n    var detail = _ref3.detail;\n    setSelected([detail.key]);\n  };\n\n  useEffect(function () {\n    if (job) {\n      setSelected([job.key]);\n    } else {\n      setSelected([]);\n    } // on('new-job', reset)\n    // on('updated', updated)\n\n\n    return function () {// off('new-job', reset)\n      // off('updated', updated)\n    };\n  }, [job]);\n  return /*#__PURE__*/React.createElement(Menu, {\n    onClick: select,\n    mode: \"inline\",\n    selectedKeys: selected,\n    className: \"h-screen overflow-x-hidden overflow-y-auto\"\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"ant-menu-item ant-menu-item-only-child\",\n    role: \"menuitem\",\n    style: {\n      paddingLeft: 24,\n      height: 60\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-4\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onCreate,\n    type: \"primary\",\n    className: \"w-full\"\n  }, \"Create Job\"))), jobs.map(function (job) {\n    return /*#__PURE__*/React.createElement(Menu.Item, {\n      key: job.key\n    }, job.name);\n  }));\n}\n\nexport default Sidebar;","map":null,"metadata":{},"sourceType":"module"}