{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { Input, Form, Radio, Button } from 'antd';\n\nfunction CronBuilder({\n  job,\n  onSave,\n  onCancel,\n  onDelete\n}) {\n  const {\n    0: command,\n    1: setCommand\n  } = useState(job.job.command);\n  const {\n    0: name,\n    1: setName\n  } = useState(job.job.comment);\n  const {\n    0: minute,\n    1: setMinute\n  } = useState(job.job.minute);\n  const {\n    0: hour,\n    1: setHour\n  } = useState(job.job.hour);\n  const {\n    0: day,\n    1: setDay\n  } = useState(job.job.dom);\n  const {\n    0: month,\n    1: setMonth\n  } = useState(job.job.month);\n  const {\n    0: weekday,\n    1: setWeekday\n  } = useState(job.job.dow);\n  const {\n    0: frequency,\n    1: setFrequency\n  } = useState(job.key ? 'custom' : 'minutely');\n\n  const help = preset => {\n    setFrequency(preset);\n\n    switch (preset) {\n      case 'minutely':\n        setMinute('*');\n        setHour('*');\n        setDay('*');\n        setMonth('*');\n        setWeekday('*');\n        break;\n\n      case 'hourly':\n        setMinute('0');\n        setHour('*');\n        setDay('*');\n        setMonth('*');\n        setWeekday('*');\n        break;\n\n      case 'nightly':\n        setMinute('0');\n        setHour('0');\n        setDay('*');\n        setMonth('*');\n        setWeekday('*');\n        break;\n\n      case 'weekly':\n        setMinute('0');\n        setHour('0');\n        setDay('*');\n        setMonth('*');\n        setWeekday('1');\n        break;\n\n      case 'monthly':\n        setMinute('0');\n        setHour('0');\n        setDay('1');\n        setMonth('*');\n        setWeekday('*');\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const save = () => {\n    onSave(job, {\n      command,\n      name,\n      minute,\n      hour,\n      day,\n      month,\n      weekday\n    });\n  };\n\n  const cancel = () => onCancel();\n\n  const remove = () => onDelete(job);\n\n  useEffect(() => {\n    setName(job.job.comment);\n    setCommand(job.job.command);\n    setMinute(job.job.minute);\n    setHour(job.job.hour);\n    setDay(job.job.dom);\n    setMonth(job.job.month);\n    setWeekday(job.job.dow);\n    setFrequency(job.key ? 'custom' : 'minutely');\n  }, [job]);\n  return __jsx(Form, {\n    layout: \"vertical\"\n  }, __jsx(Form.Item, {\n    label: \"Name / Comment\"\n  }, __jsx(Input, {\n    value: name,\n    onChange: e => setName(e.target.value)\n  })), __jsx(Form.Item, {\n    label: \"Command\"\n  }, __jsx(Input, {\n    value: command,\n    onChange: e => setCommand(e.target.value)\n  })), __jsx(Form.Item, {\n    label: \"Every\"\n  }, __jsx(Radio.Group, {\n    value: frequency,\n    onChange: e => help(e.target.value),\n    defaultValue: frequency,\n    buttonStyle: \"solid\"\n  }, __jsx(Radio.Button, {\n    value: \"minutely\"\n  }, \"Minute\"), __jsx(Radio.Button, {\n    value: \"hourly\"\n  }, \"Hour\"), __jsx(Radio.Button, {\n    value: \"nightly\"\n  }, \"Night\"), __jsx(Radio.Button, {\n    value: \"weekly\"\n  }, \"Week\"), __jsx(Radio.Button, {\n    value: \"monthly\"\n  }, \"Month\"), __jsx(Radio.Button, {\n    value: \"custom\"\n  }, \"Custom\"))), __jsx(Form.Item, {\n    label: \"Custom\"\n  }, __jsx(Input.Group, {\n    compact: true\n  }, __jsx(Input, {\n    value: minute,\n    onChange: e => setMinute(e.target.value) || setFrequency('custom'),\n    style: {\n      width: '20%'\n    }\n  }), __jsx(Input, {\n    value: hour,\n    onChange: e => setHour(e.target.value) || setFrequency('custom'),\n    style: {\n      width: '20%'\n    }\n  }), __jsx(Input, {\n    value: day,\n    onChange: e => setDay(e.target.value) || setFrequency('custom'),\n    style: {\n      width: '20%'\n    }\n  }), __jsx(Input, {\n    value: month,\n    onChange: e => setMonth(e.target.value) || setFrequency('custom'),\n    style: {\n      width: '20%'\n    }\n  }), __jsx(Input, {\n    value: weekday,\n    onChange: e => setWeekday(e.target.value) || setFrequency('custom'),\n    style: {\n      width: '20%'\n    }\n  })), __jsx(\"div\", {\n    className: \"mt-10 flex items-center justify-between\"\n  }, __jsx(\"div\", null, __jsx(Button.Group, null, __jsx(Button, {\n    onClick: save,\n    type: \"primary\"\n  }, \"Save\"), __jsx(Button, {\n    onClick: cancel\n  }, \"Cancel\"))), __jsx(\"div\", null, job.key && __jsx(Button, {\n    onClick: remove,\n    danger: true,\n    type: \"primary\"\n  }, \"Delete\")))));\n}\n\nexport default CronBuilder;","map":null,"metadata":{},"sourceType":"module"}