{"ast":null,"code":"// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nimport { getJobs, getQueue } from \"../../utils/crontab\";\nimport { serialiseJob } from \"../../utils/helpers\";\nexport default (async (req, res) => {\n  try {\n    const jobs = await getJobs(true);\n    res.statusCode = 200;\n    res.json(jobs);\n  } catch (error) {\n    res.statusCode = 500;\n    res.json({\n      error: error.message\n    });\n  }\n});","map":{"version":3,"sources":["/Users/owen/Sites/macron-web/pages/api/refresh.js"],"names":["getJobs","getQueue","serialiseJob","req","res","jobs","statusCode","json","error","message"],"mappings":"AAAA;AACA,SAAQA,OAAR,EAAiBC,QAAjB,QAAgC,qBAAhC;AACA,SAAQC,YAAR,QAA2B,qBAA3B;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAI;AACF,UAAMC,IAAI,GAAG,MAAML,OAAO,CAAC,IAAD,CAA1B;AACAI,IAAAA,GAAG,CAACE,UAAJ,GAAiB,GAAjB;AACAF,IAAAA,GAAG,CAACG,IAAJ,CAASF,IAAT;AACD,GAJD,CAIE,OAAOG,KAAP,EAAc;AACdJ,IAAAA,GAAG,CAACE,UAAJ,GAAiB,GAAjB;AACAF,IAAAA,GAAG,CAACG,IAAJ,CAAS;AACPC,MAAAA,KAAK,EAAEA,KAAK,CAACC;AADN,KAAT;AAGD;AACF,CAXD","sourcesContent":["// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nimport {getJobs, getQueue} from \"../../utils/crontab\";\nimport {serialiseJob} from \"../../utils/helpers\";\n\nexport default async (req, res) => {\n  try {\n    const jobs = await getJobs(true);\n    res.statusCode = 200;\n    res.json(jobs);\n  } catch (error) {\n    res.statusCode = 500;\n    res.json({\n      error: error.message,\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}