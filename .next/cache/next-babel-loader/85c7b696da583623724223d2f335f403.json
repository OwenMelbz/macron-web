{"ast":null,"code":"var __jsx = React.createElement;\nimport { Button, Menu } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { off, on } from \"../utils/events\";\n\nfunction Sidebar({\n  jobs,\n  job,\n  onSelect,\n  onCreate\n}) {\n  const {\n    0: selected,\n    1: setSelected\n  } = useState([]);\n\n  const select = ({\n    key\n  }) => {\n    setSelected([key]);\n    const job = jobs.find(j => j.key === key);\n    onSelect(job);\n  };\n\n  const reset = () => {\n    setSelected([]);\n  };\n\n  const updated = ({\n    detail\n  }) => {\n    setSelected([detail.key]);\n  };\n\n  useEffect(() => {\n    if (job) {\n      setSelected([job.key]);\n    } else {\n      setSelected([]);\n    } // on('new-job', reset)\n    // on('updated', updated)\n\n\n    return () => {// off('new-job', reset)\n      // off('updated', updated)\n    };\n  }, [job]);\n  return __jsx(Menu, {\n    onClick: select,\n    mode: \"inline\",\n    selectedKeys: selected,\n    className: \"h-screen overflow-x-hidden overflow-y-auto\"\n  }, __jsx(\"li\", {\n    className: \"ant-menu-item ant-menu-item-only-child\",\n    role: \"menuitem\",\n    style: {\n      paddingLeft: 24,\n      height: 60\n    }\n  }, __jsx(\"div\", {\n    className: \"mt-4\"\n  }, __jsx(Button, {\n    onClick: onCreate,\n    type: \"primary\",\n    className: \"w-full\"\n  }, \"Create Job\"))), jobs.map(job => __jsx(Menu.Item, {\n    key: job.key\n  }, job.name)));\n}\n\nexport default Sidebar;","map":null,"metadata":{},"sourceType":"module"}