{"ast":null,"code":"var _jsxFileName = \"/Users/owen/Sites/macron-web/components/Sidebar.js\";\nvar __jsx = React.createElement;\nimport { Button, Menu } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { off, on } from \"../utils/events\";\n\nfunction Sidebar({\n  jobs,\n  job,\n  onSelect,\n  onCreate\n}) {\n  const {\n    0: selected,\n    1: setSelected\n  } = useState([]);\n\n  const select = ({\n    key\n  }) => {\n    setSelected([key]);\n    const job = jobs.find(j => j.key === key);\n    onSelect(job);\n  };\n\n  const reset = () => {\n    setSelected([]);\n  };\n\n  const updated = ({\n    detail\n  }) => {\n    setSelected([detail.key]);\n  };\n\n  useEffect(() => {\n    if (job) {\n      setSelected([job.key]);\n    } else {\n      setSelected([]);\n    } // on('new-job', reset)\n    // on('updated', updated)\n\n\n    return () => {// off('new-job', reset)\n      // off('updated', updated)\n    };\n  }, [job]);\n  return __jsx(Menu, {\n    onClick: select,\n    mode: \"inline\",\n    selectedKeys: selected,\n    className: \"h-screen overflow-x-hidden overflow-y-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, __jsx(\"li\", {\n    className: \"ant-menu-item ant-menu-item-only-child\",\n    role: \"menuitem\",\n    style: {\n      paddingLeft: 24,\n      height: 60\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    onClick: onCreate,\n    type: \"primary\",\n    className: \"w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, \"Create Job\"))), jobs.map(job => __jsx(Menu.Item, {\n    key: job.key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, job.name)));\n}\n\nexport default Sidebar;","map":{"version":3,"sources":["/Users/owen/Sites/macron-web/components/Sidebar.js"],"names":["Button","Menu","React","useEffect","useState","off","on","Sidebar","jobs","job","onSelect","onCreate","selected","setSelected","select","key","find","j","reset","updated","detail","paddingLeft","height","map","name"],"mappings":";;AAAA,SAASA,MAAT,EAAiBC,IAAjB,QAA6B,MAA7B;AACA,OAAOC,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,GAAR,EAAaC,EAAb,QAAsB,iBAAtB;;AAEA,SAASC,OAAT,CAAiB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,GAAR;AAAaC,EAAAA,QAAb;AAAuBC,EAAAA;AAAvB,CAAjB,EAAoD;AAChD,QAAM;AAAA,OAACC,QAAD;AAAA,OAAWC;AAAX,MAA0BT,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAMU,MAAM,GAAG,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAa;AACxBF,IAAAA,WAAW,CAAC,CAACE,GAAD,CAAD,CAAX;AACA,UAAMN,GAAG,GAAGD,IAAI,CAACQ,IAAL,CAAUC,CAAC,IAAIA,CAAC,CAACF,GAAF,KAAUA,GAAzB,CAAZ;AACAL,IAAAA,QAAQ,CAACD,GAAD,CAAR;AACH,GAJD;;AAMA,QAAMS,KAAK,GAAG,MAAM;AAChBL,IAAAA,WAAW,CAAC,EAAD,CAAX;AACH,GAFD;;AAIA,QAAMM,OAAO,GAAG,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAgB;AAC5BP,IAAAA,WAAW,CAAC,CAACO,MAAM,CAACL,GAAR,CAAD,CAAX;AACH,GAFD;;AAIAZ,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIM,GAAJ,EAAS;AACLI,MAAAA,WAAW,CAAC,CAACJ,GAAG,CAACM,GAAL,CAAD,CAAX;AACH,KAFD,MAEO;AACHF,MAAAA,WAAW,CAAC,EAAD,CAAX;AACH,KALW,CAMZ;AACA;;;AACA,WAAO,MAAM,CACT;AACA;AACH,KAHD;AAIH,GAZQ,EAYN,CAACJ,GAAD,CAZM,CAAT;AAcA,SACI,MAAC,IAAD;AACI,IAAA,OAAO,EAAEK,MADb;AAEI,IAAA,IAAI,EAAC,QAFT;AAGI,IAAA,YAAY,EAAEF,QAHlB;AAII,IAAA,SAAS,EAAC,4CAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMI;AACI,IAAA,SAAS,EAAC,wCADd;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,KAAK,EAAE;AAAES,MAAAA,WAAW,EAAE,EAAf;AAAmBC,MAAAA,MAAM,EAAE;AAA3B,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAEX,QAAjB;AAA2B,IAAA,IAAI,EAAC,SAAhC;AAA0C,IAAA,SAAS,EAAC,QAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CALJ,CANJ,EAiBKH,IAAI,CAACe,GAAL,CAASd,GAAG,IACT,MAAC,IAAD,CAAM,IAAN;AAAW,IAAA,GAAG,EAAEA,GAAG,CAACM,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BN,GAAG,CAACe,IAA9B,CADH,CAjBL,CADJ;AAuBH;;AAED,eAAejB,OAAf","sourcesContent":["import { Button, Menu } from 'antd';\nimport React, {useEffect, useState} from 'react';\nimport {off, on} from \"../utils/events\";\n\nfunction Sidebar({ jobs, job, onSelect, onCreate }) {\n    const [selected, setSelected] = useState([]);\n\n    const select = ({ key }) => {\n        setSelected([key])\n        const job = jobs.find(j => j.key === key);\n        onSelect(job);\n    };\n\n    const reset = () => {\n        setSelected([]);\n    }\n\n    const updated = ({ detail }) => {\n        setSelected([detail.key]);\n    }\n\n    useEffect(() => {\n        if (job) {\n            setSelected([job.key])\n        } else {\n            setSelected([])\n        }\n        // on('new-job', reset)\n        // on('updated', updated)\n        return () => {\n            // off('new-job', reset)\n            // off('updated', updated)\n        }\n    }, [job])\n\n    return (\n        <Menu\n            onClick={select}\n            mode=\"inline\"\n            selectedKeys={selected}\n            className=\"h-screen overflow-x-hidden overflow-y-auto\"\n        >\n            <li\n                className=\"ant-menu-item ant-menu-item-only-child\"\n                role=\"menuitem\"\n                style={{ paddingLeft: 24, height: 60 }}\n            >\n                <div className=\"mt-4\">\n                    <Button onClick={onCreate} type=\"primary\" className=\"w-full\">\n                        Create Job\n                    </Button>\n                </div>\n            </li>\n            {jobs.map(job => (\n                <Menu.Item key={job.key}>{job.name}</Menu.Item>\n            ))}\n        </Menu>\n    );\n}\n\nexport default Sidebar;\n"]},"metadata":{},"sourceType":"module"}