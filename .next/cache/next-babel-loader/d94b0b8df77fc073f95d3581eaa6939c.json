{"ast":null,"code":"var _jsxFileName = \"/Users/owen/Sites/macron-web/components/Sidebar.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport { Button, Menu } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { off, on } from \"../utils/events\";\n\nfunction Sidebar(_ref) {\n  _s();\n\n  var _this = this;\n\n  var jobs = _ref.jobs,\n      job = _ref.job,\n      onSelect = _ref.onSelect,\n      onCreate = _ref.onCreate;\n\n  var _useState = useState([]),\n      selected = _useState[0],\n      setSelected = _useState[1];\n\n  var select = function select(_ref2) {\n    var key = _ref2.key;\n    setSelected([key]);\n    var job = jobs.find(function (j) {\n      return j.key === key;\n    });\n    onSelect(job);\n  };\n\n  var reset = function reset() {\n    setSelected([]);\n  };\n\n  var updated = function updated(_ref3) {\n    var detail = _ref3.detail;\n    setSelected([detail.key]);\n  };\n\n  useEffect(function () {\n    if (job) {\n      setSelected([job.key]);\n    } else {\n      setSelected([]);\n    } // on('new-job', reset)\n    // on('updated', updated)\n\n\n    return function () {// off('new-job', reset)\n      // off('updated', updated)\n    };\n  }, [job]);\n  return __jsx(Menu, {\n    onClick: select,\n    mode: \"inline\",\n    selectedKeys: selected,\n    className: \"h-screen overflow-x-hidden overflow-y-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, __jsx(\"li\", {\n    className: \"ant-menu-item ant-menu-item-only-child\",\n    role: \"menuitem\",\n    style: {\n      paddingLeft: 24,\n      height: 60\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    onClick: onCreate,\n    type: \"primary\",\n    className: \"w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, \"Create Job\"))), jobs.map(function (job) {\n    return __jsx(Menu.Item, {\n      key: job.key,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, job.name);\n  }));\n}\n\n_s(Sidebar, \"239Ve9yO4iC/9vfIgHzDkghA5LI=\");\n\n_c = Sidebar;\nexport default Sidebar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"sources":["/Users/owen/Sites/macron-web/components/Sidebar.js"],"names":["Button","Menu","React","useEffect","useState","off","on","Sidebar","jobs","job","onSelect","onCreate","selected","setSelected","select","key","find","j","reset","updated","detail","paddingLeft","height","map","name"],"mappings":";;;;AAAA,SAASA,MAAT,EAAiBC,IAAjB,QAA6B,MAA7B;AACA,OAAOC,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,GAAR,EAAaC,EAAb,QAAsB,iBAAtB;;AAEA,SAASC,OAAT,OAAoD;AAAA;;AAAA;;AAAA,MAAjCC,IAAiC,QAAjCA,IAAiC;AAAA,MAA3BC,GAA2B,QAA3BA,GAA2B;AAAA,MAAtBC,QAAsB,QAAtBA,QAAsB;AAAA,MAAZC,QAAY,QAAZA,QAAY;;AAAA,kBAChBP,QAAQ,CAAC,EAAD,CADQ;AAAA,MACzCQ,QADyC;AAAA,MAC/BC,WAD+B;;AAGhD,MAAMC,MAAM,GAAG,SAATA,MAAS,QAAa;AAAA,QAAVC,GAAU,SAAVA,GAAU;AACxBF,IAAAA,WAAW,CAAC,CAACE,GAAD,CAAD,CAAX;AACA,QAAMN,GAAG,GAAGD,IAAI,CAACQ,IAAL,CAAU,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACF,GAAF,KAAUA,GAAd;AAAA,KAAX,CAAZ;AACAL,IAAAA,QAAQ,CAACD,GAAD,CAAR;AACH,GAJD;;AAMA,MAAMS,KAAK,GAAG,SAARA,KAAQ,GAAM;AAChBL,IAAAA,WAAW,CAAC,EAAD,CAAX;AACH,GAFD;;AAIA,MAAMM,OAAO,GAAG,SAAVA,OAAU,QAAgB;AAAA,QAAbC,MAAa,SAAbA,MAAa;AAC5BP,IAAAA,WAAW,CAAC,CAACO,MAAM,CAACL,GAAR,CAAD,CAAX;AACH,GAFD;;AAIAZ,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIM,GAAJ,EAAS;AACLI,MAAAA,WAAW,CAAC,CAACJ,GAAG,CAACM,GAAL,CAAD,CAAX;AACH,KAFD,MAEO;AACHF,MAAAA,WAAW,CAAC,EAAD,CAAX;AACH,KALW,CAMZ;AACA;;;AACA,WAAO,YAAM,CACT;AACA;AACH,KAHD;AAIH,GAZQ,EAYN,CAACJ,GAAD,CAZM,CAAT;AAcA,SACI,MAAC,IAAD;AACI,IAAA,OAAO,EAAEK,MADb;AAEI,IAAA,IAAI,EAAC,QAFT;AAGI,IAAA,YAAY,EAAEF,QAHlB;AAII,IAAA,SAAS,EAAC,4CAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMI;AACI,IAAA,SAAS,EAAC,wCADd;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,KAAK,EAAE;AAAES,MAAAA,WAAW,EAAE,EAAf;AAAmBC,MAAAA,MAAM,EAAE;AAA3B,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAEX,QAAjB;AAA2B,IAAA,IAAI,EAAC,SAAhC;AAA0C,IAAA,SAAS,EAAC,QAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CALJ,CANJ,EAiBKH,IAAI,CAACe,GAAL,CAAS,UAAAd,GAAG;AAAA,WACT,MAAC,IAAD,CAAM,IAAN;AAAW,MAAA,GAAG,EAAEA,GAAG,CAACM,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0BN,GAAG,CAACe,IAA9B,CADS;AAAA,GAAZ,CAjBL,CADJ;AAuBH;;GAtDQjB,O;;KAAAA,O;AAwDT,eAAeA,OAAf","sourcesContent":["import { Button, Menu } from 'antd';\nimport React, {useEffect, useState} from 'react';\nimport {off, on} from \"../utils/events\";\n\nfunction Sidebar({ jobs, job, onSelect, onCreate }) {\n    const [selected, setSelected] = useState([]);\n\n    const select = ({ key }) => {\n        setSelected([key])\n        const job = jobs.find(j => j.key === key);\n        onSelect(job);\n    };\n\n    const reset = () => {\n        setSelected([]);\n    }\n\n    const updated = ({ detail }) => {\n        setSelected([detail.key]);\n    }\n\n    useEffect(() => {\n        if (job) {\n            setSelected([job.key])\n        } else {\n            setSelected([])\n        }\n        // on('new-job', reset)\n        // on('updated', updated)\n        return () => {\n            // off('new-job', reset)\n            // off('updated', updated)\n        }\n    }, [job])\n\n    return (\n        <Menu\n            onClick={select}\n            mode=\"inline\"\n            selectedKeys={selected}\n            className=\"h-screen overflow-x-hidden overflow-y-auto\"\n        >\n            <li\n                className=\"ant-menu-item ant-menu-item-only-child\"\n                role=\"menuitem\"\n                style={{ paddingLeft: 24, height: 60 }}\n            >\n                <div className=\"mt-4\">\n                    <Button onClick={onCreate} type=\"primary\" className=\"w-full\">\n                        Create Job\n                    </Button>\n                </div>\n            </li>\n            {jobs.map(job => (\n                <Menu.Item key={job.key}>{job.name}</Menu.Item>\n            ))}\n        </Menu>\n    );\n}\n\nexport default Sidebar;\n"]},"metadata":{},"sourceType":"module"}